# 🏪우택호 편의점에 오신걸 환영합니다🏪

## For Buyers 🛒

### 1️⃣ 구매할 제품 선택하기

어서오세요. 우택호 편의점입니다! 저희 제품을 구매하시려면 구매하실 상품명과 수량을 입력해 주세요!

제품 목록은 다음과 같습니다.

```angular2html
- 콜라 1,000원 10개 탄산2+1
- 콜라 1,000원 10개
- 사이다 1,000원 8개 탄산2+1
- 사이다 1,000원 7개
- 오렌지주스 1,800원 9개 MD추천상품
- 오렌지주스 1,800원 재고 없음
- 탄산수 1,200원 5개 탄산2+1
- 탄산수 1,200원 재고 없음
- 물 500원 10개
- 비타민워터 1,500원 6개
- 감자칩 1,500원 5개 반짝할인
- 감자칩 1,500원 5개
- 초코바 1,200원 5개 MD추천상품
- 초코바 1,200원 5개
- 에너지바 2,000원 5개
- 정식도시락 6,400원 8개
- 컵라면 1,700원 1개 MD추천상품
- 컵라면 1,700원 10개
```

예: `[사이다-2],[감자칩-1]`

> 📍 참고해주세요
>
> 상품명, 수량은 하이픈(-)으로, 개별 상품은 대괄호([])로 묶어 쉼표(,)로 구분하여 입력해주세요.
>
> 재고 수량 내에서 구매해주세요.

> 📍 꼭 읽어주세요
>
> 프로모션 제품과 수량을 올바르게 선택하셨다면 자동으로 3번 순서로 넘어갑니다.

### 2️⃣-1️⃣ 재고가 부족한 프로모션 상품을 가져오신 경우

구매하실 제품과 수량을 선택하셨나요?

이런! 해당 제품은 프로모션 재고가 부족하네요.😢

남아있는 프로모션 재고 이외의 일부 수량은 할인이 적용되지 않아요. 그래도 구매를 계속 진행할지 선택해주세요.

서비스에 불편을 드려 죄송합니다.🙏

`현재 {상품명} {수량}개는 프로모션 할인이 적용되지 않습니다. 그래도 구매하시겠습니까?` `Y/N`

> 📍 참고해주세요
>
> 'Y' 선택 시 일부 수량은 정가로 결제가 돼요. 괜찮으신 분들만 구매 부탁드리겠습니다!

### 2️⃣-2️⃣ 프로모션 사은품을 가져오지 않으신 경우

구매하실 제품과 수량을 선택하셨나요?

해당 제품은 프로모션 중이네요! 동일 제품 1개를 무료로 더 받을 수 있어요.

아, 물론 원하지 않으시면 받지 않으셔도 됩니다.😉

`현재 {상품명}은(는) 1개를 무료로 더 받을 수 있습니다. 추가하시겠습니까?` `Y/N`

### 3️⃣ 멤버십 할인 받기

우택호 편의점 멤버십이 있으신가요? 그렇다면 할인을 받아보세요!

`멤버십 할인을 받으시겠습니까?` `Y/N`

> 📍 참고해주세요
>
> 멤버십 회원은 프로모션 미적용 금액의 30%를 할인받아요.
>
> 프로모션 적용 상품과 미적용 상품을 함께 구매하시면 프로모션 '**미적용**' 상품에 대해서만 할인이 들어가요.
>
> 멤버십 할인은 최대 8000원까지 가능합니다.

### 4️⃣ 추가 구매하기

다 둘러보셨나요? 다른 상품을 더 구매하고 싶으시면 말만 해주세요!

`감사합니다. 구매하고 싶은 다른 상품이 있나요?` `Y/N`

> 📍 참고해주세요
>
> 'Y' 선택 시 재고가 업데이트된 상품 목록을 확인 후 추가로 구매하실 수 있어요.
>
> 'N' 선택 시 저희 우택호의 서비스는 종료됩니다.

이용해 주셔서 감사합니다. 다음에 또 오세요! 😊

---

## For Developers 👩‍💻

> 📍 참고사항
>
> 구현에 필요한 `상품 목록`과 `프로모션 목록`을 **파일 입출력**을 통해 불러온다.
>
> 각각 `src/main/resources/products.md`과 `src/main/resources/promotions.md` 파일을 이용한다.

### 💫입력

- [x] **구매할 상품명과 수량** 입력받기
    - [x] 재고가 부족한 프로모션 상품을 선택한 경우
        - [x] 일부 수량에 대해 **정가로 결제할지** 여부 입력받기
    - [x] 프로모션 적용 가능한 상품에 대해 고객이 해당 수량만큼 가져오지 않았을 경우
        - [x] **무료로 받을 수 있는 상품 받을지** 여부 입력받기
- [x] **멤버십 할인** 적용 여부 입력받기
- [x] **추가 구매** 여부 입력받기

#### 💣예외처리

- [x] 구매할 상품명과 수량
    - [x] 아무런 값을 입력하지 않은 경우 : `[ERROR] 잘못된 입력입니다. 다시 입력해 주세요.`
    - [x] `[상품명-수량],[상품명-수량] ...` 형식을 따르지 않은 경우 : `[ERROR] 올바르지 않은 형식으로 입력했습니다.`
    - [x] 존재하지 않는 상품을 입력한 경우 : `[ERROR] 존재하지 않는 상품입니다. 다시 입력해 주세요.`
    - [x] 구매 수량이 재고 수량을 초과한 경우 : `[ERROR] 재고 수량을 초과하여 구매할 수 없습니다. 다시 입력해 주세요.`
- [x] 일부 수량에 대해 정가로 결제할지 여부
    - [x] `Y/N` 이외의 값을 입력한 경우 : `[ERROR] Y 또는 N만 입력할 수 있습니다.`
- [x] 무료 상품 수령 여부
    - [x] `Y/N` 이외의 값을 입력한 경우 : `[ERROR] Y 또는 N만 입력할 수 있습니다.`
- [x] 멤버십 할인 적용 여부
    - [x] `Y/N` 이외의 값을 입력한 경우 : `[ERROR] Y 또는 N만 입력할 수 있습니다.`
- [x] 추가 구매 여부
    - [x] `Y/N` 이외의 값을 입력한 경우 : `[ERROR] Y 또는 N만 입력할 수 있습니다.`

### 💫진행

- [x] 예외 발생 시 `[ERROR]`로 시작하는 에러 문구를 출력한 후 그 부분부터 입력을 다시 받는다.

### 💫출력

- [x] 현재 보유하고 있는 상품들의 목록을 매번 업데이트된 상태로 출력한다.
    ```dtd
    - 콜라 1,000원 10개 탄산2+1
    - 콜라 1,000원 10개
    - 사이다 1,000원 8개 탄산2+1
    - 사이다 1,000원 7개
    - 오렌지주스 1,800원 9개 MD추천상품
    - 오렌지주스 1,800원 재고 없음
    - 탄산수 1,200원 5개 탄산2+1
    - 탄산수 1,200원 재고 없음
    - 물 500원 10개
    - 비타민워터 1,500원 6개
    - 감자칩 1,500원 5개 반짝할인
    - 감자칩 1,500원 5개
    - 초코바 1,200원 5개 MD추천상품
    - 초코바 1,200원 5개
    - 에너지바 2,000원 5개
    - 정식도시락 6,400원 8개
    - 컵라면 1,700원 1개 MD추천상품
    - 컵라면 1,700원 10개
    ```
- [x] 프로모션 적용이 가능한 상품에 대해 고객이 해당 수량만큼 가져오지 않았을 경우, 혜택에 대한 안내 메시지를 출력한다.
    ```dtd
    현재 {상품명}은(는) 1개를 무료로 더 받을 수 있습니다. 추가하시겠습니까? (Y/N)
    ```
- [x] 재고가 부족한 프로모션 상품을 선택한 경우, 일부 수량에 대해 정가로 결제할지 여부에 대한 안내 메시지를 출력한다.
    ```dtd
    현재 {상품명} {수량}개는 프로모션 할인이 적용되지 않습니다. 그래도 구매하시겠습니까? (Y/N)
    ```
- [x] 멤버십 할인 적용 여부에 대한 안내 문구를 출력한다.
    ```dtd
    멤버십 할인을 받으시겠습니까? (Y/N)
    ```
- [x] 구매 상품 내역, 증정 상품 내역, 금액 정보를 출력한다.
    ```dtd
    ==============W 편의점================
    상품명		수량	금액
    콜라		3 	3,000
    에너지바         5 	10,000
    =============증	정===============
    콜라		1
    ====================================
    총구매액		8	13,000
    행사할인			-1,000
    멤버십할인		-3,000
    내실돈			 9,000
    ```
- [x] 추가 구매 여부를 확인하기 위한 안내 문구를 출력한다.
    ```dtd
    감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)
    ```
